(this["webpackJsonpposdar.site"]=this["webpackJsonpposdar.site"]||[]).push([[0],{39:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(30),r=n.n(c),i=(n(39),n(4)),o=n(31),j=n.n(o).a.create({baseURL:"https://posdar.herokuapp.com",headers:{"X-Custom-Header":"foobar"}}),u=n(16),d=n(2),l=(n(58),n(59),n(60),n(0));var b=function(){return Object(l.jsxs)("nav",{id:"Nav",children:[Object(l.jsx)(u.b,{to:"/",className:"links",children:"Add Task"}),Object(l.jsx)(u.b,{to:"/list",className:"links",children:"Tasks List"})]})};var O=function(){return Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("h1",{children:"Posdar"}),Object(l.jsx)(b,{})]})},h=(n(67),Object(s.createContext)(["darkgray",""]));var x=function(){var e=Object(s.useContext)(h),t=e.message,n=e.setMessage;function a(){n(["darkgray",""])}return Object(s.useEffect)((function(){setTimeout((function(){a()}),3e3)})),t[1].length<1?null:Object(l.jsxs)("div",{id:"Banner",style:{backgroundColor:t[0]},children:[Object(l.jsx)("strong",{onClick:function(){return a()},children:"X"}),Object(l.jsx)("p",{children:t[1]})]})},f=n(9),m=n.n(f),p=n(10),g=n(13),v=n(11),k=n(34);n(69);var w=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)([]),r=Object(i.a)(c,2),o=r[0],u=r[1],d=Object(s.useState)([""]),b=Object(i.a)(d,2),O=b[0],x=b[1],f=Object(s.useContext)(h),w=(f.message,f.setMessage),C=function(e){a(Object(v.a)(Object(v.a)({},n),{},Object(g.a)({},e.target.name,e.target.value)))},S=function(){var e=Object(p.a)(m.a.mark((function e(t){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j.post("/register",n,{headers:{"x-api-key":n.apiKey,"user-name":n.userName}}).catch((function(e){console.log(e),w(["#ff5e5e","Something went wrong"])}));case 3:(s=e.sent)&&(200===s.status?w(["#e48ff1",s.data.message]):w(["darkgray",s.data.message]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("form",{id:"saveTasksForm",onSubmit:S,children:[Object(l.jsx)("h2",{children:"Add task"}),Object(l.jsx)("input",{name:"userName",placeholder:"User name",onChange:C,required:!0}),Object(l.jsx)("input",{name:"group",placeholder:"Group ID",onChange:C,required:!0}),Object(l.jsx)("input",{name:"apiKey",placeholder:"Api key",onChange:C,required:!0}),Object(l.jsx)("input",{name:"email",placeholder:"Email",onChange:C,required:!0}),Object(l.jsx)("input",{name:"time",placeholder:"Time between requests",onChange:C,disabled:!0}),Object(l.jsx)("h4",{children:"What to look for?"}),Object(l.jsxs)("div",{id:"add-text-div",children:[Object(l.jsx)("p",{children:" Add another text "}),Object(l.jsx)("button",{type:"button",onClick:function(){x([].concat(Object(k.a)(O),[""]))},children:"+"})]}),Object(l.jsx)("p",{id:"must",children:"*must contain only letters or numbers"}),O.map((function(e,t){return Object(l.jsx)("input",{name:"text"+(t+1),placeholder:"Text "+(t+1),onChange:function(e){return function(e,t){var s=o;s[t]=e.target.value,u(s),a(Object(v.a)(Object(v.a)({},n),{},{text:o}))}(e,t)}},t)})),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",id:"submitButton",children:"Save"})]})};n(70);var C=function(e){var t=Object(s.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(!1),o=Object(i.a)(r,2),u=o[0],d=o[1],b=Object(s.useContext)(h),O=(b.message,b.setMessage),x=function(e){c(Object(v.a)(Object(v.a)({},a),{},Object(g.a)({},e.target.name,e.target.value)))},f=function(){var t=Object(p.a)(m.a.mark((function t(n){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,j.get("/register",{headers:a}).catch((function(e){console.log(e),O(["#ff5e5e","Something went wrong"])}));case 3:(s=t.sent)&&(e.setFatherTasks(s.data.tasks),s.headers["access-token"]&&window.localStorage.setItem("at",s.headers["access-token"]),d(!0));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u?null:Object(l.jsxs)("form",{id:"getTasksForm",onSubmit:f,children:[Object(l.jsx)("h4",{children:"*You must be connected to see the your tasks"}),Object(l.jsx)("input",{name:"user-name",placeholder:"User name",onChange:x}),Object(l.jsx)("input",{name:"x-api-key",placeholder:"Api key",onChange:x}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",id:"getButton",children:"Get"})]})};n(71);var S=function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(s.useContext)(h),o=(r.message,r.setMessage),u=function(){var t=Object(p.a)(m.a.mark((function t(){var n,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=window.localStorage.getItem("at"))){t.next=6;break}return t.next=4,j.delete("/register",{headers:{"t-id":e._id,"x-access-token":n}}).catch((function(e){o(["#ff5e5e","Something went wrong"])}));case 4:(s=t.sent)&&200==s.status&&(o(["#ff5e5e","Deleted"]),c(!0));case 6:n||console.log("ls item missing. please login again");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return!0===a?null:Object(l.jsx)("div",{className:"TaskCard",children:e.group?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("p",{children:["Group: ",e.group]}),Object(l.jsx)("p",{children:"Text:"}),e.text.map((function(e){return Object(l.jsx)("small",{className:"txt",children:e})})),Object(l.jsxs)("small",{children:["Email: ",e.email]}),Object(l.jsxs)("small",{children:["Task-id: ",e._id]}),Object(l.jsx)("button",{className:"dl-btn",onClick:function(){return u()},children:"DELETE"})]}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"emptyCard",children:[Object(l.jsx)("p",{}),Object(l.jsx)("p",{}),Object(l.jsx)("p",{}),Object(l.jsx)("small",{}),Object(l.jsx)("small",{})]})})})};n(72);var y=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useContext)(h),r=(c.message,c.setMessage);return Object(s.useEffect)(Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.localStorage.getItem("at"))){e.next=6;break}return e.next=4,j.get("/register",{headers:{"x-access-token":t}}).catch((function(e){console.log(e),r(["#ff5e5e","Something went wrong"])}));case 4:(n=e.sent)&&a(n.data.tasks);case 6:case"end":return e.stop()}}),e)}))),[]),n[0]?n[0]?Object(l.jsxs)("div",{id:"TasksList",children:[Object(l.jsx)("h2",{children:"Your Saved Tasks"}),n.map((function(e){return Object(l.jsx)(S,{_id:e._id,date:e.date,group:e.group,email:e.email,text:e.text},e._id)}))]}):void 0:Object(l.jsxs)("div",{id:"TasksList",children:[Object(l.jsx)("h2",{children:"Your Saved Tasks"}),Object(l.jsx)(C,{setFatherTasks:a}),Object(l.jsx)(S,{})]})};n(73);var T=function(){return Object(l.jsx)("div",{id:"NoMatch",children:Object(l.jsx)("h1",{children:"Nothing Here"})})};n(74);var N=function(){return Object(l.jsx)("div",{className:"footer"})};var F=function(){var e=Object(s.useState)(["darkgray",""]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!0),r=Object(i.a)(c,2),o=r[0],b=r[1];return Object(s.useEffect)((function(){!0===o&&j.get("/").then((function(e){200===e.status&&(a(["darkgray","server is on"]),b(!1))})).catch((function(e){console.log(e),a(["#ff5e5e","server error"])}))}),[]),Object(l.jsx)(h.Provider,{value:{message:n,setMessage:a},children:Object(l.jsxs)(u.a,{children:[Object(l.jsx)(O,{}),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{exact:!0,path:"/",children:Object(l.jsx)(w,{})}),Object(l.jsx)(d.a,{exact:!0,path:"/list",children:Object(l.jsx)(y,{})}),Object(l.jsx)(d.a,{path:"*",children:Object(l.jsx)(T,{})})]}),Object(l.jsx)(x,{}),Object(l.jsx)(N,{})]})]})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(F,{})}),document.getElementById("root")),E()}},[[75,1,2]]]);
//# sourceMappingURL=main.052c2d75.chunk.js.map
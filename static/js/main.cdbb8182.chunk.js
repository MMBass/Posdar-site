(this["webpackJsonpposdar.site"]=this["webpackJsonpposdar.site"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(23),r=n.n(s),i=(n(46),n(4)),o=n(37),j=n.n(o).a.create({baseURL:"https://posdar.herokuapp.com",headers:{"X-Custom-Header":"foobar"}}),u=n(17),l=n(3),d=n(38),b=n.n(d),O=(n(76),n(77),n(78),n(0));var h=function(){return Object(O.jsxs)("nav",{id:"Nav",children:[Object(O.jsx)(u.b,{to:"/",className:"links",children:"Add Task"}),Object(O.jsx)(u.b,{to:"/list",className:"links",children:"Tasks List"})]})};var x=function(){return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("h1",{children:"Posdar"}),Object(O.jsx)(h,{})]})},m=(n(83),Object(a.createContext)(["darkgray",""]));var p=function(){var e=Object(a.useContext)(m),t=e.message,n=e.setMessage;function c(){n(["darkgray",""])}return Object(a.useEffect)((function(){setTimeout((function(){c()}),3e3)})),t[1].length<1?null:Object(O.jsxs)("div",{id:"Banner",style:{backgroundColor:t[0]},children:[Object(O.jsx)("strong",{onClick:function(){return c()},children:"X"}),Object(O.jsx)("p",{children:t[1]})]})},f=n(10),g=n.n(f),v=n(11),k=n(14),C=n(12),S=n(41),y=n(15),w=n.n(y);n(22),n(103);var T=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(i.a)(s,2),o=r[0],u=r[1],l=Object(a.useState)([""]),d=Object(i.a)(l,2),b=d[0],h=d[1],x=Object(a.useState)(!1),p=Object(i.a)(x,2),f=p[0],y=p[1],T=Object(a.useContext)(m),N=(T.message,T.setMessage),M=function(e){c(Object(C.a)(Object(C.a)({},n),{},Object(k.a)({},e.target.name,e.target.value)))},F=function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.next=4,j.post("/register",n,{headers:{"x-api-key":n.apiKey,"user-name":n.userName}}).catch((function(e){N(["#ff5e5e","Something went wrong"])}));case 4:(a=e.sent)&&(E(),200===a.status?N(["#e48ff1",a.data.message]):N(["darkgray",a.data.message])),y(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){Array.from(document.querySelectorAll("#saveTasksForm input")).forEach((function(e){return e.value=""})),c([])};return Object(O.jsxs)("form",{id:"saveTasksForm",onSubmit:F,children:[Object(O.jsx)("h2",{children:"Add task"}),Object(O.jsx)("input",{name:"userName",placeholder:"User name",onChange:M,required:!0}),Object(O.jsx)("input",{name:"group",placeholder:"Group ID",onChange:M,required:!0}),Object(O.jsx)("input",{name:"apiKey",placeholder:"Api key",onChange:M,required:!0}),Object(O.jsx)("input",{name:"email",placeholder:"Email",onChange:M,required:!0}),Object(O.jsx)("input",{name:"time",placeholder:"Time between requests",onChange:M,disabled:!0}),Object(O.jsx)("h4",{children:"What to look for?"}),Object(O.jsxs)("div",{id:"add-text-div",children:[Object(O.jsx)("p",{children:" Add another text "}),Object(O.jsx)("button",{type:"button",onClick:function(){h([].concat(Object(S.a)(b),[""]))},children:"+"})]}),Object(O.jsx)("p",{id:"must",children:"* accepts letters or numbers"}),b.map((function(e,t){return Object(O.jsx)("input",{name:"text"+(t+1),placeholder:"Text "+(t+1),onChange:function(e){return function(e,t){var a=o;a[t]=e.target.value,u(a),c(Object(C.a)(Object(C.a)({},n),{},{text:o}))}(e,t)}},t)})),Object(O.jsx)("br",{}),Object(O.jsxs)("button",{type:"submit",id:"submitButton",children:[Object(O.jsx)(w.a,{visible:f,type:"TailSpin",color:"#000000",height:20,width:20,timeout:3e3,style:{display:"inline",marginRight:"12px"}}),"Save"]})]})};n(104);var N=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),u=o[0],l=o[1],d=Object(a.useState)(!1),b=Object(i.a)(d,2),h=b[0],x=b[1],p=Object(a.useContext)(m),f=(p.message,p.setMessage),S=function(e){s(Object(C.a)(Object(C.a)({},c),{},Object(k.a)({},e.target.name,e.target.value)))},y=function(){var t=Object(v.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),n.preventDefault(),t.next=4,j.get("/register",{headers:c}).catch((function(e){console.log(e),f(["#ff5e5e","Something went wrong"])}));case 4:(a=t.sent)&&(e.setFatherTasks(a.data.tasks),a.headers["access-token"]&&window.localStorage.setItem("at",a.headers["access-token"]),l(!0)),x(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u?null:Object(O.jsxs)("form",{id:"getTasksForm",onSubmit:y,children:[Object(O.jsx)("h4",{children:"*You must be connected to see the your tasks"}),Object(O.jsx)("input",{name:"user-name",placeholder:"User name",onChange:S}),Object(O.jsx)("input",{name:"x-api-key",placeholder:"Api key",onChange:S}),Object(O.jsx)("br",{}),Object(O.jsxs)("button",{type:"submit",id:"getButton",children:[Object(O.jsx)(w.a,{visible:h,type:"TailSpin",color:"#000000",height:20,width:20,timeout:3e3,style:{display:"inline",marginRight:"12px"}}),"Get"]})]})},M=Object(a.createContext)(!1);n(105);var F=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),u=o[0],l=o[1],d=Object(a.useContext)(m),b=(d.message,d.setMessage),h=Object(a.useContext)(M),x=h.modal,p=(h.setModal,function(){var t=Object(v.a)(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setOpenModal(!0),!x){t.next=11;break}if(!(n=window.localStorage.getItem("at"))){t.next=9;break}return l(!0),t.next=7,j.delete("/register",{headers:{"t-id":e._id,"x-access-token":n}}).catch((function(e){b(["#ff5e5e","Something went wrong"])}));case 7:(a=t.sent)&&200==a.status&&(b(["#ff5e5e","Deleted"]),s(!0));case 9:n||console.log("ls item missing. please login again"),l(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return!0===c?null:Object(O.jsx)("div",{className:"TaskCard",children:e.group?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("p",{children:["Group: ",e.group]}),Object(O.jsx)("p",{children:"Text:"}),e.text.map((function(e){return Object(O.jsx)("small",{className:"txt",children:e})})),Object(O.jsxs)("small",{children:["Email: ",e.email]}),Object(O.jsxs)("small",{children:["Task-id: ",e._id]}),Object(O.jsxs)("button",{className:"dl-btn",onClick:function(){return p()},children:[Object(O.jsx)(w.a,{visible:u,type:"TailSpin",color:"#000000",height:20,width:20,timeout:3e3,style:{display:"inline",marginRight:"12px"}}),"  DELETE"]})]}):Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"emptyCard",children:[Object(O.jsx)("p",{}),Object(O.jsx)("p",{}),Object(O.jsx)("p",{}),Object(O.jsx)("small",{}),Object(O.jsx)("small",{})]})})})};n(106);var E=function(e){var t=Object(a.useContext)(M),n=(t.modal,t.setModal);return Object(O.jsx)("div",{className:"modalBackground",children:Object(O.jsxs)("div",{className:"modalContainer",children:[Object(O.jsx)("div",{className:"titleCloseBtn",children:Object(O.jsx)("button",{onClick:function(){e.setOpenModal(!1)},children:"X"})}),Object(O.jsx)("div",{className:"modalTitle",children:Object(O.jsx)("p",{children:e.title})}),Object(O.jsxs)("div",{className:"modalFooter",children:[Object(O.jsx)("button",{onClick:function(){e.setOpenModal(!1)},id:"cancelBtn",children:"Cancel"}),Object(O.jsx)("button",{onClick:function(){n(!0),e.setOpenModal(!1)},children:"Continue"})]})]})})};n(107);var A=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),u=o[0],l=o[1],d=Object(a.useContext)(m),b=(d.message,d.setMessage);return Object(a.useEffect)(Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.localStorage.getItem("at"))){e.next=7;break}return s([" "]),e.next=5,j.get("/register",{headers:{"x-access-token":t}}).catch((function(e){console.log(e),s([]),b(["#ff5e5e","Something went wrong"]),window.localStorage.removeItem("at")}));case 5:(n=e.sent)&&s(n.data.tasks);case 7:case"end":return e.stop()}}),e)}))),[]),c[0]?c[0]?Object(O.jsxs)("div",{id:"TasksList",children:[Object(O.jsx)("h2",{children:"Your Saved Tasks"}),c.map((function(e){return Object(O.jsx)(F,{_id:e._id,date:e.date,group:e.group,email:e.email,text:e.text,setOpenModal:l},e._id)})),u&&Object(O.jsx)(E,{setOpenModal:l,title:"Are You Sure?"})]}):void 0:Object(O.jsxs)("div",{id:"TasksList",children:[Object(O.jsx)("h2",{children:"Your Saved Tasks"}),Object(O.jsx)(N,{setFatherTasks:s}),Object(O.jsx)(F,{})]})};n(108);var B=function(){return Object(O.jsx)("div",{id:"NoMatch",children:Object(O.jsx)("h1",{children:"Nothing Here"})})};n(109);var I=function(){return Object(O.jsx)("div",{className:"footer"})};b.a.setAppElement("#root");var L=function(){var e=Object(a.useState)(["darkgray",""]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(i.a)(s,2),o=r[0],d=r[1],b=Object(a.useState)(!0),h=Object(i.a)(b,2),f=h[0],g=h[1];return Object(a.useEffect)((function(){!0===f&&j.get("/").then((function(e){200===e.status&&(c(["darkgray","server is on"]),g(!1))})).catch((function(e){console.log(e),c(["#ff5e5e","server error"])}))}),[]),Object(O.jsx)(m.Provider,{value:{message:n,setMessage:c},children:Object(O.jsx)(M.Provider,{value:{modal:o,setModal:d},children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(x,{}),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",children:Object(O.jsx)(T,{})}),Object(O.jsx)(l.a,{exact:!0,path:"/list",children:Object(O.jsx)(A,{})}),Object(O.jsx)(l.a,{path:"*",children:Object(O.jsx)(B,{})})]}),Object(O.jsx)(p,{}),Object(O.jsx)(I,{})]})]})})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(L,{})}),document.getElementById("root")),q()},46:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},83:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.cdbb8182.chunk.js.map
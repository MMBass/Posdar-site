(this["webpackJsonpposdar.site"]=this["webpackJsonpposdar.site"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(33),r=n.n(s),i=(n(45),n(6)),o=n(34),j=n.n(o).a.create({baseURL:"https://posdar.herokuapp.com",headers:{"X-Custom-Header":"foobar"}}),u=n(18),l=n(4),d=(n(64),n(65),n(66),n(1));var b=function(){return Object(d.jsxs)("nav",{id:"Nav",children:[Object(d.jsx)(u.b,{to:"/",className:"links",children:"Add Task"}),Object(d.jsx)(u.b,{to:"/list",className:"links",children:"Tasks List"})]})};var O=function(){return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("h1",{children:"Posdar"}),Object(d.jsx)(b,{})]})},h=(n(73),Object(c.createContext)(["#D6D8D9",""])),x=n(37);var p=function(){var e=Object(c.useContext)(h),t=e.message,n=e.setMessage;function a(){n(["darkgray",""])}return Object(c.useEffect)((function(){setTimeout((function(){a()}),3e3)})),t[1].length<1?null:Object(d.jsxs)("div",{id:"Banner",style:{backgroundColor:t[0]},children:[Object(d.jsxs)("strong",{onClick:function(){return a()},children:[" ",Object(d.jsx)(x.a,{})]}),Object(d.jsx)("p",{children:t[1]})]})},m=n(10),f=n.n(m),g=n(12),v=n(15),k=n(13),C=n(40),w=n(16),S=n.n(w),y=(n(22),n(93),n(38));var D=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([" "]),r=Object(i.a)(s,2),o=r[0],u=r[1],l=Object(c.useState)(!1),b=Object(i.a)(l,2),O=b[0],x=b[1],p=Object(c.useState)(!1),m=Object(i.a)(p,2),w=m[0],D=m[1],T=Object(c.useContext)(h),N=(T.message,T.setMessage),F=function(e){a(Object(k.a)(Object(k.a)({},n),{},Object(v.a)({},e.target.name,e.target.value)))},A=function(e,t,c){var s=o;e?s.splice(c,1):s[c]=t.target.value,u(s),a(Object(k.a)(Object(k.a)({},n),{},{text:o}))},L=function(){var e=Object(g.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),D(!0),x(!0),e.next=5,j.post("/register",n,{headers:{"x-api-key":n.apiKey,"user-name":n.userName}}).catch((function(e){N(["#F8D7DA","Something went wrong"])}));case 5:(c=e.sent)&&(M(),200===c.status?N(["#172B4D",c.data.message]):N(["darkgray",c.data.message])),x(!1),D(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){Array.from(document.querySelectorAll("#saveTasksForm input")).forEach((function(e){return e.value=""})),u([" "]),a([])};return Object(d.jsxs)("form",{id:"saveTasksForm",onSubmit:L,children:[Object(d.jsx)("h2",{children:"Add task"}),Object(d.jsx)("input",{name:"userName",placeholder:"User name",onChange:F,required:!0}),Object(d.jsx)("input",{name:"group",placeholder:"Group ID",onChange:F,required:!0}),Object(d.jsx)("input",{name:"apiKey",placeholder:"Api key",onChange:F,required:!0}),Object(d.jsx)("input",{name:"email",placeholder:"Email",onChange:F,required:!0}),Object(d.jsx)("input",{name:"time",placeholder:"Time between requests",onChange:F,disabled:!0}),Object(d.jsx)("h4",{className:"txt-headers",children:"What to look for?"}),Object(d.jsx)("p",{id:"must",className:"txt-headers",children:"* accepts letters or numbers"}),o.map((function(e,t){return Object(d.jsxs)("div",{className:"txt-inputs",children:[Object(d.jsx)("input",{className:"inp-txt",id:"text"+(t+1),name:"text"+(t+1),onChange:function(e){return A(null,e,t)},value:e}),t>0&&Object(d.jsx)("input",{type:"button",className:"inp-remove",value:"-",onClick:function(e){return A(!0,e,t)}})]})})),Object(d.jsx)("br",{}),Object(d.jsx)("button",{id:"add-text-btn",type:"button",onClick:function(){u([].concat(Object(C.a)(o),[" "]))},children:Object(d.jsx)("pre",{children:"+  Add another text "})}),Object(d.jsx)("br",{}),Object(d.jsxs)("button",{type:"submit",id:"submitButton",disabled:w,children:[Object(d.jsx)(S.a,{visible:O,type:"TailSpin",color:"#000000",height:20,width:20,timeout:3e3,style:{display:"inline",marginRight:"12px"}}),Object(d.jsx)(y.a,{})]})]})};n(94);var T=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),u=o[0],l=o[1],b=Object(c.useState)(!1),O=Object(i.a)(b,2),x=O[0],p=O[1],m=Object(c.useContext)(h).setMessage,C=function(e){s(Object(k.a)(Object(k.a)({},a),{},Object(v.a)({},e.target.name,e.target.value)))},w=function(){var t=Object(g.a)(f.a.mark((function t(n){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),n.preventDefault(),t.next=4,j.get("/register",{headers:a}).catch((function(e){m(["#F8D7DA",e.message||"Something went wrong"]),p(!1)}));case 4:(c=t.sent)&&(e.setFatherTasks(c.data.tasks),c.headers["access-token"]&&window.localStorage.setItem("at",c.headers["access-token"]),l(!0),p(!1)),p(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u?null:Object(d.jsxs)("form",{id:"getTasksForm",onSubmit:w,children:[Object(d.jsx)("h4",{children:"*You must be connected to see your tasks"}),Object(d.jsx)("input",{name:"user-name",placeholder:"User name",onChange:C,required:!0}),Object(d.jsx)("input",{name:"x-api-key",placeholder:"Api key",onChange:C,required:!0}),Object(d.jsx)("br",{}),Object(d.jsxs)("button",{type:"submit",id:"getButton",children:[Object(d.jsx)(S.a,{visible:x,type:"TailSpin",color:"#000000",height:20,width:20,timeout:3e3,style:{display:"inline",marginRight:"12px"}}),"Get"]})]})},N=(n(95),Object(c.createContext)(!1)),F=n(39);var A=function(e){var t=Object(c.useContext)(N),n=t.LoaderC,a=t.setLoaderC;return Object(d.jsx)("div",{className:"TaskCard",children:e.group?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"Group:"}),Object(d.jsxs)("small",{children:["   ",e.group]}),Object(d.jsx)("p",{children:"Text:"}),e.text.map((function(e){return Object(d.jsx)("small",{className:"txt",children:e})})),Object(d.jsx)("p",{children:"Email:"}),Object(d.jsxs)("small",{children:["  ",e.email]}),Object(d.jsx)("p",{children:"Task-id:"}),Object(d.jsxs)("small",{children:["   ",e._id]}),Object(d.jsxs)("button",{className:"dl-btn",onClick:function(){return function(){var t=window.localStorage.getItem("at");t&&(a(e._id),e.delTask(e._id)),t||console.error("ls item missing. please login again")}()},children:[Object(d.jsx)(S.a,{visible:n===e._id,type:"TailSpin",color:"#000",height:20,width:20,timeout:3e3,style:{display:"inline",marginRight:"12px"}})," ",Object(d.jsx)(F.a,{})," "]})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"emptyCard",children:[Object(d.jsx)("p",{}),Object(d.jsx)("p",{}),Object(d.jsx)("p",{}),Object(d.jsx)("p",{}),Object(d.jsx)("p",{})]})})})};n(96);var L=function(e){var t=Object(c.useContext)(N).setLoaderC;return Object(d.jsx)("div",{className:"modalBackground",children:Object(d.jsxs)("div",{className:"modalContainer",children:[Object(d.jsx)("div",{className:"titleCloseBtn",children:Object(d.jsx)("button",{onClick:function(){e.setOpenModal(!1),t(!1)}})}),Object(d.jsx)("div",{className:"modalTitle",children:Object(d.jsx)("p",{children:e.title})}),Object(d.jsxs)("div",{className:"modalFooter",children:[Object(d.jsx)("button",{onClick:function(){e.setOpenModal(!1),t(!1)},id:"cancelBtn",children:"Cancel"}),Object(d.jsx)("button",{onClick:function(){e.delEnd(),e.setOpenModal(!1)},children:"Continue"})]})]})})};n(97);var M=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),u=o[0],l=o[1],b=Object(c.useState)(""),O=Object(i.a)(b,2),x=O[0],p=O[1],m=Object(c.useState)(!1),v=Object(i.a)(m,2),k=v[0],C=v[1],w=Object(c.useContext)(h).setMessage,S=Object(c.useContext)(N).setLoaderC;Object(c.useEffect)((function(){C(!1);var e=window.localStorage.getItem("at");e&&Object(g.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s([" "]),t.next=3,j.get("/register",{headers:{"x-access-token":e}}).catch((function(e){console.log(e),s([]),w(["#F8D7DA","Something went wrong"]),window.localStorage.removeItem("at")}));case 3:(n=t.sent)&&s(n.data.tasks);case 5:case"end":return t.stop()}}),t)})))()}),[k]);var y=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),p(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("at"),e.next=3,j.delete("/register",{headers:{"t-id":x,"x-access-token":t}}).catch((function(e){w(["#F8D7DA","Something went wrong"]),S(!1)}));case 3:(n=e.sent)&&200===n.status&&(w(["#F8D7DA","Deleted"]),s([]),p(""),C(!0),S(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a[0]?a[0]?Object(d.jsxs)("div",{id:"TasksList",children:[Object(d.jsx)("h2",{children:"Your Saved Tasks"}),a.map((function(e){return Object(d.jsx)(A,{_id:e._id,date:e.date,group:e.group,email:e.email,text:e.text,delTask:y,setOpenModal:l},e._id)})),u&&Object(d.jsx)(L,{setOpenModal:l,delEnd:D,title:"Are You Sure?"})]}):void 0:Object(d.jsxs)("div",{id:"TasksList",children:[Object(d.jsx)("h2",{children:"Your Saved Tasks"}),Object(d.jsx)(T,{setFatherTasks:s}),Object(d.jsx)(A,{})]})};n(98);var B=function(){return Object(d.jsx)("div",{id:"NoMatch",children:Object(d.jsx)("h1",{children:"Nothing Here"})})};n(99);var E=function(){var e=Object(c.useState)(["darkgray",""]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(i.a)(s,2),o=r[0],b=r[1],x=Object(c.useState)(!0),m=Object(i.a)(x,2),f=m[0],g=m[1];return Object(c.useEffect)((function(){!0===f&&j.get("/").then((function(e){200===e.status&&(a(["D6D8D9","server is on"]),g(!1))})).catch((function(e){console.log(e),a(["#F8D7DA","server error"])}))})),Object(d.jsx)(h.Provider,{value:{message:n,setMessage:a},children:Object(d.jsx)(N.Provider,{value:{LoaderC:o,setLoaderC:b},children:Object(d.jsx)(u.a,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(O,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsx)(D,{})}),Object(d.jsx)(l.a,{exact:!0,path:"/list",children:Object(d.jsx)(M,{})}),Object(d.jsx)(l.a,{path:"*",children:Object(d.jsx)(B,{})})]}),Object(d.jsx)(p,{})]})})})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,101)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root")),q()},45:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},73:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.42d71cf4.chunk.js.map